# ==============================================================================
# Example Terraform Variables
# ==============================================================================
# Copy this file to secret.tfvars and fill in your values:
#   cp secret.tfvars.example secret.tfvars
# ==============================================================================

# ------------------------------------------------------------------------------
# Proxmox Connection (REQUIRED)
# ------------------------------------------------------------------------------

proxmox_api_url   = "https://192.168.0.100:8006/"
proxmox_api_token = "terraform@pve!terraform=YOUR-TOKEN-UUID-HERE"

# ------------------------------------------------------------------------------
# Proxmox Settings
# ------------------------------------------------------------------------------

target_node  = "pve"                            # Proxmox node name
datastore_id = "local-lvm"                      # Storage for VM disks
talos_iso_id = "local:iso/talos-nocloud-amd64.iso"

# ------------------------------------------------------------------------------
# Cluster Configuration
# ------------------------------------------------------------------------------

cluster_name  = "homelab-cluster"
talos_version = "v1.12.0"
install_disk  = "/dev/vda"                      # Disk for Talos installation

# ------------------------------------------------------------------------------
# Network
# ------------------------------------------------------------------------------

ip_prefix = "192.168.0"                         # First 3 octets of IP range
start_ip  = 211                                 # First control plane IP (last octet)

# IP Assignment (based on start_ip=211):
#   Control Plane: 192.168.0.211, 192.168.0.212, 192.168.0.213
#   Workers:       192.168.0.214, 192.168.0.215

# ------------------------------------------------------------------------------
# Control Plane VMs
# ------------------------------------------------------------------------------

cp_count     = 3                                # Number of control plane nodes (1-5)
cp_cores     = 2                                # CPU cores per node
cp_memory    = 2048                             # Memory in MB
cp_disk_size = 20                               # Disk size in GB

# ------------------------------------------------------------------------------
# Worker VMs
# ------------------------------------------------------------------------------

worker_count     = 2                            # Number of worker nodes (0-10)
worker_cores     = 4                            # CPU cores per node
worker_memory    = 4096                         # Memory in MB
worker_disk_size = 50                           # Disk size in GB

# ------------------------------------------------------------------------------
# Cert-Manager / Cloudflare (REQUIRED for SSL)
# ------------------------------------------------------------------------------

cloudflare_api_token = "YOUR-CLOUDFLARE-API-TOKEN"  # Zone:DNS:Edit, Zone:Zone:Read
cloudflare_email     = "your-email@example.com"     # Let's Encrypt notifications
domain               = "example.com"                # Your primary domain

# ------------------------------------------------------------------------------
# External Secrets / HashiCorp Vault
# ------------------------------------------------------------------------------

vault_token = "YOUR-VAULT-TOKEN"  # Vault token with read access to secret engine
